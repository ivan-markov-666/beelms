# QA Platform - Test Documentation

## üìã Test Structure

```
/tests
  /smoke           # Smoke —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ –±—ä—Ä–∑–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è
  /regression      # –ü—ä–ª–Ω–∏ regression —Ç–µ—Å—Ç–æ–≤–µ
    /api           # API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ
    /e2e           # End-to-end —Ç–µ—Å—Ç–æ–≤–µ
    /performance   # –¢–µ—Å—Ç–æ–≤–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç
  /utils           # –ü–æ–º–æ—â–Ω–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–µ –∏ —É—Ç–∏–ª–∏—Ç–∏
  /docs            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ
```

## üö¶ Smoke Tests

### Health Check

- **–§–∞–π–ª**: `/tests/smoke/health-check.sh`
- **–¶–µ–ª**: –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏ –Ω–∞ Docker —Å—Ä–µ–¥–∞—Ç–∞
- **–ö–∞–∫ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞**: `pnpm test:smoke`
- **–ü–æ–∫—Ä–∏—Ç–∏–µ**:
  - –ù–∞–ª–∏—á–Ω–æ—Å—Ç –Ω–∞ –≤—Å–∏—á–∫–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
  - –í—Ä—ä–∑–∫–∞ —Å PostgreSQL –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ API –∑–¥—Ä–∞–≤–Ω–∏—è –µ–Ω–¥–ø–æ–π–Ω—Ç (/health)
  - –î–æ—Å—Ç—ä–ø–Ω–æ—Å—Ç –Ω–∞ —É–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞ –Ω–∞ —Ç–µ—Ö–Ω–∏—Ç–µ –ø–æ—Ä—Ç–æ–≤–µ

### –î–µ—Ç–∞–π–ª–∏ –∑–∞ Docker Health Check

Smoke —Ç–µ—Å—Ç—ä—Ç –ø—Ä–æ–≤–µ—Ä—è–≤–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

1. **Docker –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏**
   - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –≤—Å–∏—á–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —Å–∞ –≤ —Å—ä—Å—Ç–æ—è–Ω–∏–µ "Up"

2. **PostgreSQL**
   - –ò–∑–ø–æ–ª–∑–≤–∞ `pg_isready` –∫–æ–º–∞–Ω–¥–∞ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—Ä—ä–∑–∫–∞ —Å PostgreSQL
   - –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–∞ –¥–æ—Å—Ç—ä–ø–∞ —Å –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–∞–Ω–Ω–∏

3. **API –°—ä—Ä–≤–∏—Å**
   - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ API –µ–Ω–¥–ø–æ–π–Ω—Ç—ä—Ç `/health` –≤—Ä—ä—â–∞ HTTP 200
   - –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–∞ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –Ω–∞ –±–µ–∫–µ–Ω–¥–∞

4. **–£–µ–± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–æ—Å—Ç—ä–ø–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø–æ—Ä—Ç–æ–≤–µ—Ç–µ –∑–∞ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞
   - –ü—É–±–ª–∏—á–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3001)
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3002)

### –ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ Smoke —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ

- –ü—Ä–∏ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ Docker —Å—Ä–µ–¥–∞—Ç–∞
- –°–ª–µ–¥ –ø—Ä–æ–º–µ–Ω–∏ –ø–æ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞
- –ü—Ä–µ–¥–∏ –∑–∞–ø–æ—á–≤–∞–Ω–µ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞
- –ö–∞—Ç–æ —á–∞—Å—Ç –æ—Ç CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞

## üîÑ Regression Test Suite

### –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ —Ç–µ—Å—Ç–æ–≤–µ

```bash
pnpm test:regression
```

### –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –≥—Ä—É–ø–∞ —Ç–µ—Å—Ç–æ–≤–µ

```bash
pnpm test:regression:api        # –°–∞–º–æ API —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ
pnpm test:regression:e2e        # –°–∞–º–æ E2E —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ
pnpm test:regression:performance # –°–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç
```

## üß™ –ö–∞–∫ –¥–∞ –¥–æ–±–∞–≤–∏–º –Ω–æ–≤ —Ç–µ—Å—Ç

1. –°—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤ —Ç–µ—Å—Ç –≤ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤ `/tests`
2. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ —Ç–µ—Å—Ç–∞ –≤ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è —Ä–∞–∑–¥–µ–ª –ø–æ-–¥–æ–ª—É
3. –î–æ–±–∞–≤–µ—Ç–µ –∫–æ–º–∞–Ω–¥–∞ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –≤ `package.json`
4. –¢–µ—Å—Ç–≤–∞–π—Ç–µ –ª–æ–∫–∞–ª–Ω–æ —Å `pnpm test:regression`

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ

### API –¢–µ—Å—Ç–æ–≤–µ

#### Health Check API Test

- **–§–∞–π–ª**: `/tests/regression/api/health-check.test.js`
- **–¶–µ–ª**: –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–∞ –æ—Å–Ω–æ–≤–Ω–∏—è –∑–¥—Ä–∞–≤–µ–Ω —Å—Ç–∞—Ç—É—Å –Ω–∞ API
- **–ö–∞–∫ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞**: `pnpm test:regression:api`
- **–ü–æ–∫—Ä–∏—Ç–∏–µ**:
  - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ `/health` –µ–Ω–¥–ø–æ–π–Ω—Ç—ä—Ç –≤—Ä—ä—â–∞ HTTP 200
  - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –æ—Ç–≥–æ–≤–æ—Ä—ä—Ç –∏–º–∞ `status: "ok"` –ø–æ–ª–µ

#### –ü–ª–∞–Ω–∏—Ä–∞–Ω–∏ –±—ä–¥–µ—â–∏ API —Ç–µ—Å—Ç–æ–≤–µ

- –ê–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞ –∫—É—Ä—Å–æ–≤–µ –∏ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ
- –¢–µ—Å—Ç–æ–≤–µ –∑–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏

### E2E –¢–µ—Å—Ç–æ–≤–µ

#### Basic Navigation Test

- **–§–∞–π–ª**: `/tests/regression/e2e/basic-navigation.test.js`
- **–¶–µ–ª**: –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–∞ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ —É–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞
- **–ö–∞–∫ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞**: `pnpm test:regression:e2e`
- **–ü–æ–∫—Ä–∏—Ç–∏–µ**:
  - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ—Ç–æ –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏
  - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ—Ç–æ –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∑–∞ –≤—Ö–æ–¥

#### –ü–ª–∞–Ω–∏—Ä–∞–Ω–∏ –±—ä–¥–µ—â–∏ E2E —Ç–µ—Å—Ç–æ–≤–µ

- –¶—è–ª–æ—Å—Ç–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –ø–æ—Ç–æ–∫ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥
- –û—Å–Ω–æ–≤–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏—è –ø—Ä–æ—Ñ–∏–ª
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–µ–Ω –ø–∞–Ω–µ–ª –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏

### Performance –¢–µ—Å—Ç–æ–≤–µ

_–©–µ –±—ä–¥–µ –¥–æ–ø—ä–ª–Ω–µ–Ω–æ —Å –±—ä–¥–µ—â–∏ —Ç–µ—Å—Ç–æ–≤–µ_

### Database Seeding Tests

#### Entity & Seeder Unit Tests

- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è**: `/tests/unit/entities/*`
- **–¶–µ–ª**: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –ø–æ–º–æ—â–Ω–∏—Ç–µ –º–µ—Ç–æ–¥–∏ –Ω–∞ –µ–Ω—Ç–∏—Ç–∏—Ç–∞—Ç–∞, class-validator –ø—Ä–∞–≤–∏–ª–∞ –∏ seed –ª–æ–≥–∏–∫–∞—Ç–∞.
- **–ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ**: `pnpm test`

#### CLI Integration Tests

- **–§–∞–π–ª**: `/packages/database/src/cli/seed.integration.test.ts`
- **–ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ**: `pnpm test` –∏–ª–∏ `pnpm db:seed:dev run --dry-run`
- **–ü–æ–∫—Ä–∏—Ç–∏–µ**:
  - –ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å—Ä–µ–¥–∏ (dev/test/prod)
  - –ö–æ—Ä–µ–∫—Ç–Ω–∏ exit –∫–æ–¥–æ–≤–µ

#### Full Model Smoke Test

- **–§–∞–π–ª**: `/tests/integration/entities/full-model.test.ts`
- **–¶–µ–ª**: –°—ä–∑–¥–∞–≤–∞ —Å–≤—ä—Ä–∑–∞–Ω–∏ –∑–∞–ø–∏—Å–∏ (Users ‚Üí Categories ‚Üí Topics ‚Üí Tests ‚Üí Questions) –∏ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ foreign-key –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ç–∞.

–°–ª–µ–¥ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ `pnpm test` —Å–µ –ø–æ–∫–∞–∑–≤–∞ –æ–±–æ–±—â–µ–Ω–∏–µ –Ω–∞ –ø–æ–∫—Ä–∏—Ç–∏–µ—Ç–æ (–≤ –º–æ–º–µ–Ω—Ç–∞ 100 %).
