# Технологичен стак

Този документ описва подробно технологичния стак, използван за разработка и внедряване на интерактивната онлайн система за самостоятелно обучение.

## Съдържание
1. [Frontend технологии](#frontend-технологии)
2. [Backend технологии](#backend-технологии)
3. [База данни](#база-данни)
4. [Инфраструктура](#инфраструктура)
5. [Мониторинг и анализ](#мониторинг-и-анализ)
6. [Инструменти за разработка](#инструменти-за-разработка)
7. [Тестиране](#тестиране)
8. [Сигурност](#сигурност)

## Frontend технологии

### Основен стек
- **React** - библиотека за изграждане на потребителски интерфейси
- **Codux** - визуален редактор за React компоненти
- **TypeScript** - за статична типизация на кода
- **Redux** - за управление на състоянието на приложението
- **React Router** - за управление на маршрутизацията

### UI библиотеки и компоненти
- **Styled Components** - за CSS-in-JS стилизация 
- **Material UI** - компонентна библиотека, следваща Material Design принципите
- **React-Query** - за кеширане и управление на заявките към API

### Build инструменти
- **Webpack** - за бъндлинг на кода
- **Babel** - за транспилация на JavaScript
- **ESLint** - за статичен анализ на кода
- **Prettier** - за форматиране на кода

## Backend технологии

### Микросервисна архитектура
- **NestJS** - Node.js framework за изграждане на скалируеми server-side приложения
- **TypeScript** - за статична типизация на кода

### Микросервиси
1. **Auth Service**
   - JWT token management
   - Регистрация и вписване
   - Възстановяване на пароли
   - Session management
   
2. **User Service**
   - Потребителски профили
   - Управление на роли
   - Потребителски настройки

3. **Course Service**
   - CRUD операции за курсове
   - Управление на съдържание
   - Версиониране
   - Проследяване на прогрес

4. **Test Service**
   - Управление на тестове
   - Обработка на отговори
   - Оценяване и резултати

5. **Analytics Service**
   - Събиране на данни
   - Генериране на отчети
   - Експорт функционалности

6. **Ads Service**
   - Управление на реклами
   - Anti-adblocker механизми
   - Статистики и отчети
   - Криптиране на чувствителни данни с EncryptionService

### API комуникация
- **RESTful API** - основен метод за комуникация между сервизите и frontend
- **API Gateway** - Nginx за маршрутизация и load balancing
- **OpenAPI/Swagger** - за документиране на API

### Допълнителни библиотеки
- **class-validator** - за валидация на входящите данни
- **class-transformer** - за трансформация на обекти
- **bcrypt** - за хеширане на пароли
- **nodemailer** - за изпращане на имейли

## База данни

### Релационна база данни
- **PostgreSQL** - основна релационна база данни
- **TypeORM** - ORM за типизиран достъп до базата данни
- **Миграции** - за версиониране на схемата на базата данни

### In-memory съхранение
- **Redis** - за:
  - Кеширане
  - Session съхранение
  - Брокер за съобщения между микросервиси
  - Rate limiting

## Инфраструктура

### Контейнеризация и оркестрация
- **Docker** - за контейнеризация на микросервисите
- **Docker Compose** - за локална разработка и тестване

### Мрежова инфраструктура
- **Nginx** - като reverse proxy и load balancer
- **Cloudflare** - CDN/WAF за:
  - DDoS защита
  - Global SSL
  - Edge кеширане

### Хостинг
- **VPS Infrastructure** - за хостване на микросервисите

## Мониторинг и анализ

### Мониторинг система
- **Prometheus** - за събиране на метрики
- **Grafana** - за визуализация на метрики и създаване на дашборди
- **Alert Manager** - за алармиране при проблеми

### Логове и грешки
- **ELK Stack** или **Graylog** - за централизирано съхранение и анализ на логове
- **Sentry** - за проследяване на грешки в реално време

## Инструменти за разработка

### Version Control
- **Git** - система за контрол на версиите
- **GitHub/GitLab** - платформа за хостинг на кода

### CI/CD
- **GitHub Actions/GitLab CI** - за автоматизация на билд и деплойване
- **Automated Testing** - интеграция на автоматизирани тестове в CI/CD процеса

### Управление на документация
- **Markdown** - формат за документация
- **Структурирана документация** - спрямо bmad-core-config.yml изискванията

## Тестиране

### Unit тестове
- **Jest** - за тестване на JavaScript/TypeScript код
- **React Testing Library** - за тестване на React компоненти

### Интеграционни тестове
- **Supertest** - за тестване на HTTP API
- **Jest** - за интеграционни тестове на бекенд модули

### End-to-End тестове
- **Playwright** - за автоматизирано тестване на потребителски интерфейс и за кросбраузър тестване

## Сигурност

### Автентикация и Оторизация
- **JWT** - за token-базирана автентикация
- **RBAC** - Role-Based Access Control за различните нива на достъп
- **HTTPS** - за криптирана комуникация

### Сигурност на данните
- **Енкрипция** - AES-256 за криптиране на чувствителни данни чрез EncryptionService
- **Валидация** - строга проверка на входни данни за предотвратяване на инжекции
- **Sanitization** - почистване на данни за избягване на XSS атаки

### Compliance
- **GDPR** - съответствие с изискванията за защита на личните данни
- **Cookie consent** - управление на съгласието за използване на бисквитки

---

Този документ е технологична референция и ще бъде обновяван при въвеждането на нови технологии или промяна на съществуващите.
