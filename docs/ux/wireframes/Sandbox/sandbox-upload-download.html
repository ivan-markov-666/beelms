<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandbox UI - Upload & Download - QA4Free</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col" data-layout="public" data-page="sandbox-upload-download">
    <!-- Header -->
    <header id="site-header"></header>

    <!-- Main Content -->
    <main class="flex-grow py-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex flex-col lg:flex-row gap-6">
                <!-- Left Sidebar -->
                <aside class="w-full lg:w-64 flex-shrink-0" data-sandbox-nav></aside>

                <!-- Main Content Area -->
                <div class="flex-grow">
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-8">
                        <!-- Page Header -->
                        <div class="mb-8">
                            <h1 class="text-3xl font-bold text-gray-900 mb-2">Upload & Download Elements</h1>
                            <p class="text-gray-600">Practice selecting files for upload, using drag & drop and testing download links</p>
                        </div>

                        <div class="space-y-8">
                            <!-- 1. Single File Upload -->
                            <section class="border border-gray-200 rounded-lg p-6">
                                <h2 class="font-semibold text-gray-900 mb-2">1. Single File Upload</h2>
                                <p class="text-sm text-gray-600 mb-4">Choose a single file and verify the selected file name and size.</p>
                                <input
                                    id="file-upload-single"
                                    type="file"
                                    onchange="handleSingleFileChange(event)"
                                    class="block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"
                                />
                                <p id="file-upload-single-result" class="mt-3 text-sm text-gray-700">
                                    Selected file: <span class="font-semibold text-gray-900">None</span>
                                </p>
                            </section>

                            <!-- 2. Multiple File Upload -->
                            <section class="border border-gray-200 rounded-lg p-6">
                                <h2 class="font-semibold text-gray-900 mb-2">2. Multiple File Upload</h2>
                                <p class="text-sm text-gray-600 mb-4">Select multiple files at once and verify the list of selected files.</p>
                                <input
                                    id="file-upload-multiple"
                                    type="file"
                                    multiple
                                    onchange="handleMultipleFileChange(event)"
                                    class="block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
                                />
                                <div class="mt-3 text-sm text-gray-700">
                                    <p class="mb-1">Selected files:</p>
                                    <ul id="file-upload-multiple-result" class="list-disc list-inside text-gray-800">
                                        <li>No files selected</li>
                                    </ul>
                                </div>
                            </section>

                            <!-- 3. Drag & Drop Area -->
                            <section class="border border-gray-200 rounded-lg p-6">
                                <h2 class="font-semibold text-gray-900 mb-2">3. Drag & Drop Upload Area</h2>
                                <p class="text-sm text-gray-600 mb-4">Drag and drop a file into the area below to simulate drag & drop upload behaviour.</p>
                                <div
                                    id="drop-zone"
                                    ondragover="handleDragOver(event)"
                                    ondragleave="handleDragLeave(event)"
                                    ondrop="handleDrop(event)"
                                    class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center text-gray-600 bg-gray-50 hover:border-green-500 hover:bg-green-50 transition"
                                >
                                    <p class="font-semibold mb-1">Drop files here</p>
                                    <p class="text-xs text-gray-500">or drag files from your desktop onto this area</p>
                                </div>
                                <p id="drop-zone-result" class="mt-3 text-sm text-gray-700">
                                    Dropped file: <span class="font-semibold text-gray-900">None</span>
                                </p>
                            </section>

                            <!-- 4. Download Links -->
                            <section class="border border-gray-200 rounded-lg p-6">
                                <h2 class="font-semibold text-gray-900 mb-2">4. Download Links</h2>
                                <p class="text-sm text-gray-600 mb-4">Test valid and broken download links.</p>
                                <div class="space-y-3">
                                    <div>
                                        <a
                                            id="download-valid"
                                            href="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                                            download
                                            class="inline-flex items-center text-green-600 hover:text-green-700 underline"
                                        >
                                            Download Sample PDF (valid)
                                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4"></path>
                                            </svg>
                                        </a>
                                    </div>
                                    <div>
                                        <a
                                            id="download-broken"
                                            href="/downloads/nonexistent-file.zip"
                                            download
                                            class="inline-flex items-center text-red-600 hover:text-red-700 underline"
                                        >
                                            Download Broken File (404 expected)
                                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4"></path>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer id="site-footer"></footer>

    <script>
        function handleSingleFileChange(event) {
            const file = event.target.files[0];
            const label = document.querySelector('#file-upload-single-result span');
            if (!label) return;

            if (!file) {
                label.textContent = 'None';
            } else {
                label.textContent = file.name + ' (' + file.size + ' bytes)';
            }
        }

        function handleMultipleFileChange(event) {
            const list = document.getElementById('file-upload-multiple-result');
            if (!list) return;

            const files = Array.from(event.target.files || []);
            list.innerHTML = '';

            if (files.length === 0) {
                const li = document.createElement('li');
                li.textContent = 'No files selected';
                list.appendChild(li);
                return;
            }

            files.forEach(function (file) {
                const li = document.createElement('li');
                li.textContent = file.name + ' (' + file.size + ' bytes)';
                list.appendChild(li);
            });
        }

        function handleDragOver(event) {
            event.preventDefault();
            const zone = document.getElementById('drop-zone');
            if (zone) {
                zone.classList.add('border-green-500', 'bg-green-50');
            }
        }

        function handleDragLeave(event) {
            event.preventDefault();
            const zone = document.getElementById('drop-zone');
            if (zone) {
                zone.classList.remove('border-green-500', 'bg-green-50');
            }
        }

        function handleDrop(event) {
            event.preventDefault();
            const zone = document.getElementById('drop-zone');
            const label = document.querySelector('#drop-zone-result span');

            if (zone) {
                zone.classList.remove('border-green-500', 'bg-green-50');
            }

            if (!label) return;

            const files = Array.from(event.dataTransfer.files || []);
            if (files.length === 0) {
                label.textContent = 'None (no files in drop event)';
                return;
            }

            const first = files[0];
            label.textContent = first.name + ' (' + first.size + ' bytes)';
        }
    </script>
    <script src="../layout.js"></script>
    <script src="sandbox-nav.js"></script>
</body>
</html>
