# STORY-WS1-FE-WIKI-STATES – UX състояния (loading / empty / error / 404) за Wiki страниците

Status: Done

## Summary
Като **гост или регистриран потребител** искам страниците `/wiki` и `/wiki/[slug]` да се държат предвидимо при зареждане, липса на данни, грешка или невалиден `slug`, за да разбирам какво се случва и да не оставам в неясно състояние.

## Links to BMAD artifacts
- UX Design – `docs/ux/qa4free-ux-design.md` (описания за състояния и съобщения).
- User Flows – `docs/ux/flows/qa4free-user-flows.md` (FLOW-WIKI-BROWSE, FLOW-WIKI-NOT-FOUND).
- Walking skeleton – `docs/delivery/walking-skeleton.md` §2.3.1 (минимална логика за състояния).
- WS-1 Demo & Test Checklist – `docs/sprint-artifacts/WS1-wiki-demo-checklist.md`.

## Acceptance Criteria
- `/wiki` показва ясно различими състояния:
  - **Loading** – индикатор/съобщение докато се чака отговор от API.
  - **Empty** – човешко съобщение (напр. „Все още няма публикувани статии“), когато API връща празен списък.
  - **Error** – съобщение за грешка (напр. „Възникна проблем при зареждане на статиите. Опитайте отново по-късно.“), когато API връща грешка.
- `/wiki/[slug]` показва ясно различими състояния:
  - **Loading** – докато се чака отговор от API.
  - **Error** – съобщение за обща грешка при неуспешен call (различно от 404).
  - **404 / Not found** – специфична страница/състояние, когато API връща 404 (в синхрон с FLOW-WIKI-NOT-FOUND), с опция за връщане към `/wiki`.
- Съобщенията са на български (или на основния език на интерфейса за MVP) и съответстват на tone-of-voice от продукта.

## Dev Tasks
- [x] Имплементиране на loading/empty/error състояния за `/wiki` според UX/flows.
- [x] Имплементиране на loading/error/404 състояния за `/wiki/[slug]` според UX/flows.
- [x] Използване на съществуващи/базови UI компоненти за съобщения (alerts, текстови блокове) от design system-а.
- [x] Ръчно тестване на сценариите: нормален load, празен списък, симулирана грешка от API, 404 slug.
- [x] (по избор) Автоматизирани тестове за рендване на различните състояния (snapshot/DOM проверки).

## Notes
- Това story е cross-cutting за `STORY-WS1-FE-WIKI-LIST` и `STORY-WS1-FE-WIKI-ARTICLE` и е добре логиката за състояния да бъде максимално споделена (hooks/компоненти), за да се избегне дублиране.
- Очаква се backend да връща последователни кодове/отговори (200, 404, 5xx), както е дефинирано в BE stories, за да може FE да разграничава състоянията коректно.
- Препоръчително е да се подготви малък тестов матрикс (дори в бележки/таблица), който описва очакваното визуално поведение за комбинации от: тип отговор (success/empty/error/404) × страница (`/wiki` vs `/wiki/[slug]`).
- За WS-1 езикът на интерфейса и Wiki страниците може да бъде фиксиран (напр. BG); глобалният language switcher и пълната multi-language логика за Wiki (списък и статия) са дефинирани отделно в `STORY-MVP-WIKI-LANGUAGE-SWITCH` и не са част от това story.
