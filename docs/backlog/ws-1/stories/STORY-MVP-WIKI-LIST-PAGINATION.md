# STORY-MVP-WIKI-LIST-PAGINATION – Пагинация на списъка със Wiki статии

Status: Draft

_Забележка: Това story не е част от WS-1, а от EPIC-WIKI-PUBLIC (MVP разширение на публичната Wiki)._ 

## Summary
Като **гост** искам на страницата `/wiki` списъкът със статии да бъде разбит на страници (pagination), за да мога удобно да разглеждам съдържанието, без да се налага да скролвам през много дълъг списък.

## Links to BMAD artifacts
- PRD – `docs/product/prd.md` §4.1 FR-WIKI-1 (публичен списък със статии).
- MVP feature list – `docs/architecture/mvp-feature-list.md` §1.1 (Начален екран / Списък със статии).
- UX Design – `docs/ux/qa4free-ux-design.md` (SCR-WIKI-LST – поведение при дълги списъци).
- User Flows – `docs/ux/flows/qa4free-user-flows.md` (FLOW-WIKI-BROWSE).
- OpenAPI – `docs/architecture/openapi.yaml` (`GET /api/wiki/articles` – параметри `page` и `pageSize`).

## Acceptance Criteria
- На `/wiki` списъкът със статии е разделен на страници:
  - По подразбиране се показва страница 1.
  - Броят елементи на страница има разумен default (напр. 20) и може да бъде конфигурируем параметър (`pageSize`).
- Потребителят може да навигира между страници (Next/Previous или номера на страници), в синхрон с UX дизайна.
- Когато потребителят смени страницата:
  - FE извиква `GET /api/wiki/articles` с подходящи `page` и `pageSize` параметри;
  - отговорът съдържа коректния под-множество от статии за съответната страница.
- Пагинацията работи в комбинация с вече наличните Search и Language filter поведения (ако са реализирани):
  - текущата страница отразява резултатите след прилагане на търсене и филтри;
  - промяна на Search/Language reset-ва страницата към 1.
- При излизане извън обхвата (напр. `page` > `maxPage`) API връща:
  - `200 OK` с празен масив;
  - или `200 OK` с последната валидна страница – конкретното поведение се уточнява в UX/Dev бележките и тестовете.

## Dev Tasks
- [ ] **Backend (NestJS API)**
  - [ ] Имплементиране/доуточняване на поддръжката на `page` и `pageSize` в `GET /api/wiki/articles` в съответствие с `docs/architecture/openapi.yaml`.
  - [ ] Осигуряване на стабилен default (напр. `page = 1`, `pageSize = 20`) при липсващи параметри.
  - [ ] Тестове за различни сценарии: `page = 1`, средна страница, последна страница, извън обхват, комбинация със `q` и `lang`.
- [ ] **Frontend (Next.js)**
  - [ ] Добавяне на UI за pagination на `/wiki` (бутон Next/Previous или номерирани страници) според UX Design.
  - [ ] Връзка между UI pagination и query параметрите към API (`page`, `pageSize`), включително encode в URL (напр. `?page=2`).
  - [ ] Осигуряване на коректна работа заедно със Search/Language filter (ако са налични).
  - [ ] Ръчно тестване на сценарии: малко статии (1 страница), много статии (няколко страници), комбинация с търсене/филтър, опит за достъп до извън-обхват страница.
- [ ] **Тестове**
  - [ ] Базови FE/интеграционни тестове (или ръчен чеклист) за пагинацията на `/wiki`.
  - [ ] BE unit/integration тестове за логиката на pagination в `WikiService`/репозиториото.

## Notes
- Parent Epic: `EPIC-WIKI-PUBLIC` (разширение на FR-WIKI-1 – по-добра използваемост при голям брой статии).
- Това story надгражда `STORY-WS1-FE-WIKI-LIST` (основен списък) и `STORY-MVP-WIKI-SEARCH-FILTER` (Search + Language filter), така че да останат работещи в комбинация с pagination.
- При първоначална MVP имплементация е допустимо да се използва опростен UI за pagination (Next/Previous), а по-сложни варианти (номерирани страници, „First/Last“) да останат за бъдещи итерации.
