# Brainstorm – beelms core (6–12 месеца)

> Документ тип: BMAD Discovery / Brainstorm. Хоризонт: следващи **6–12 месеца**. Ограничение: **„дръж нещата прости“** (проста инфраструктура, проста tenancy стратегия, изчистен core).

## 1. Цел и контекст

- Исторически проектът започва като **QA4Free** (конкретна платформа).
- Pivot: целта вече е **`beelms core` – рамка (framework)**, върху която могат да се стъпват различни LMS / training инстанции.
- Цел на този brainstorm документ:
  - Да събере идеи за това **какви типове инстанции** искаме да поддържа рамката.
  - Да очертае основните **оски на дизайна** (tenancy, deployment, content модел, extensibility).
  - Да класифицира идеи по **MVP / Post-MVP / Later** в хоризонт 6–12 месеца.
  - Да извади **рискове и отворени въпроси** за следващи BMAD workflows:
    - `research`
    - `create-architecture`
    - `create-epics-and-stories`.

## 2. Guiding principles (simple first)

- **Simple deployment**
  - Lean Tier 0: 1–2 VPS машини, Docker Compose, без Kubernetes в хоризонта 6–12 месеца.
  - Предпочитание към **self-hosted / own-cloud** сценарии.
- **Simple tenancy**
  - MVP: една инстанция на `beelms core` = един „клиент“ / една организация.
  - Множество инстанции = **отделни деплойменти** (евентуално с общи tooling-и), не сложен shared multi-tenant модел.
- **Simple customization**
  - Ясен и ограничен „extension surface“ – конфигурация, hooks, леки integration точки.
  - Без тежък runtime plugin engine в MVP (по-скоро удобен **code-based customization**).
- **Simple upgrade story**
  - Версиониран core, миграции и ясни "upgrade notes".
  - Процес, който може да се изпълни от dev/ops без сложни инструменти.

## 3. Типове инстанции върху beelms core (scenarios)

### 3.1. Публична QA / training платформа (QA4Free-подобна)

- Отворена за външни потребители (гости + регистрирани).
- Силно **wiki-ориентирана** – статии, примери, линкове към външни ресурси.
- Практическа среда (exercises, REST API, интеграция с training API).
- Може да има freemium модел (без сложен billing в MVP).

### 3.2. Вътрешно корпоративно обучение

- Затворена инстанция за една организация (HR / L&D екип).
- Фокус върху:
  - вътрешни курсове,
  - задължителни обучения (security, compliance),
  - проследимост кой какво е минал.
- Интеграция с вътрешна автентикация (SSO / IdP) – в MVP може да е basic SSO или дори само email/password, SSO като Post-MVP.

### 3.3. Академия / bootcamp / training компания

- Обучения по кохорти, групи, стартови дати.
- Преподаватели (teachers) с инструменти за:
  - управление на групи,
  - задаване на задачи и оценки,
  - проследяване на прогрес.
- Може да има нужда от:
  - по-добра отчетност (reports),
  - интеграции с платформи за плащания (future, не MVP).

### 3.4. White-label / custom решения за клиенти

- Клиент иска собствена LMS, базирана на `beelms core`, но с:
  - собствен domain,
  - собствен branding,
  - собствен набор от модули.
- В MVP хоризонта (6–12 месеца) това може да бъде реализирано чрез:
  - **отделна инстанция** (нов деплой, нова база),
  - конфигурируемо брандиране (име, лого, цветове),
  - включване/изключване на модули през конфигурация.

## 4. Основни оси на дизайна на рамката

### 4.1. Tenancy и инстанции

- MVP решение:
  - **Single-tenant per deployment** – всяка инстанция има собствена база и конфигурация.
  - Поддръжка на множество инстанции чрез automation / tooling (скриптове за създаване на нова инстанция).
- Възможни бъдещи разширения (Post-MVP / Later):
  - Shared-модел с multi-tenant schema (OrgID навсякъде) – **изисква отделно архитектурно решение и сериозно тестване**.
  - Централизирано управление на много инстанции.
- Guideline: **избягване на преждевременно multi-tenant усложнение**; първо да работи стабилно за една организация.

### 4.2. Deployment и инфраструктура

- Целева минимална инфраструктура за 6–12 месеца:
  - 1 VPS за backend + DB (Docker Compose: API, training API, PostgreSQL, reverse proxy).
  - 1 статичен хостинг за frontends (примерно Cloudflare Pages) + CDN/TLS.
- Нефункционални цели:
  - лесен локален dev setup (docker-compose up, няколко команди за миграции/seed);
  - проста observability (logs + базов metrics/exporter);
  - backup/restore процедури, описани в документация.
- По-сложни неща (Kubernetes, auto-scaling, service mesh) се изместват **извън** хоризонта на този brainstorm.

### 4.3. Модел на съдържание (wiki + курсове + оценки)

- Core идеи:
  - **Wiki-first** – статии, които описват концепции, примери, теории.
  - **Courses / learning paths** – подредба на съдържание в структуриран път (модули, уроци).
  - **Assessments** – тестове, задания, изпити, упражнения.
- Връзки между тях:
  - курс / модул сочи към wiki статии като допълнителни ресурси;
  - задачи и тестове могат да реферират към wiki съдържание.
- Изискване за простота:
  - една основна контент-модел таблица/структура с типове (Article, Lesson, Exercise, Quiz и др.), вместо много различни, силно специализирани модели в MVP.

### 4.4. Роли и права

- Типични роли (по PRD / system-architecture):
  - Администратор
  - Потребител (регистриран)
  - Гост (нерегистриран потребител)
  - Teacher (преподавател)
  - Content Author (автор на съдържание)
  - Monitoring / Metrics (наблюдение)
- MVP фокус:
  - ясен RBAC модел, който може да се конфигурира на ниво инстанция;
  - базова система за разрешения (create/read/update/delete върху основните ресурси).

### 4.5. Extensibility и интеграции

- Типове разширения:
  - **Интеграции**: email provider, storage, auth provider, payments (future).
  - **Hook-ове / events** – напр. при завършен урок, при създаден нов потребител.
- MVP подход:
  - дефиниране на няколко ясни integration точки (напр. email, storage, logging),
  - предоставяне на добре документирана конфигурация за тях.

## 5. Теми / бъдещи епици за beelms core (идеен списък)

Тук събираме идеи на „raw“ ниво – после те ще се превърнат в епици и stories.

### 5.1. Core платформа

- User & Account Management (регистрация, вход, профил).
- Organizations / Instances (описване на инстанцията, branding настройки).
- Role-Based Access Control (RBAC).
- Audit log за ключови действия (напр. промяна на роли, създаване на курсове).

### 5.2. Wiki и съдържание

- Публична wiki с категории и езици.
- Вътрешна (private) wiki за всяка инстанция.
- Версиониране на статии (basic в MVP, по-разширено по-късно).
- Търсене в съдържание (simple full-text за MVP).

### 5.3. Курсове и learning paths

- Създаване на курсове, модули, уроци.
- Enrollment / записване на потребители в курсове.
- Проследяване на прогрес по курс.

### 5.4. Assessments и практическа среда

- Банка от въпроси и тестове (MCQ, отворени отговори и др.).
- Прости quizzes, закачени към уроци / модули.
- Интеграция с практическа среда (напр. training API):
  - задачи тип „изпрати заявка към API и получи резултат“.

### 5.5. Metrics и наблюдение

- Основни измерители за инстанция:
  - активни потребители,
  - завършени курсове,
  - проценти завършване,
  - най-посещавани статии.
- Simple reporting UI или exports.

### 5.6. Developer Experience (DX)

- CLI или скриптове за:
  - създаване на нова инстанция,
  - първоначален seed (admin потребител, примерни курсове).
- Документация за deployment + upgrade.

### 5.7. Интеграции и разширения

- Email provider abstraction (SMTP, SendGrid, др.).
- Storage abstraction (локален диск vs. R2/B2/S3-compatible).
- Базови webhooks (напр. при регистрация на потребител).

## 6. Класификация: MVP vs. по-късно (в рамките на 6–12 месеца)

### 6.1. MVP-core (силен фокус)

- **Core платформа**
  - Регистрация / вход / забравена парола.
  - Базов профил на потребителя.
  - Една инстанция (single-tenant) с branding настройки.
  - RBAC с базови роли (Admin, User, Guest, Teacher, Content Author).
- **Wiki и съдържание**
  - Публична wiki (минимум една езикова версия).
  - Категории и basic търсене.
- **Курсове и learning paths**
  - Дефиниране на курс с модули и уроци.
  - Записване в курс и проследяване на прогрес (completed / in progress).
- **Assessments (минимални)**
  - Прости quizzes към уроци (MCQ / single choice).
- **Developer Experience / Ops**
  - Docker Compose setup (dev + прост prod).
  - Документиран процес за миграции и seed.
  - Basic monitoring/logging.

### 6.2. Post-MVP (все още в рамките на 6–12 месеца, ако има ресурс)

- По-богат модел за тестове (multiple question types, банки, tagging).
- По-добри отчети и dashboards за инструктори / администратори.
- Basic интеграция с външен email provider.
- Подобрени инструменти за практическа среда (повече типове упражнения).

### 6.3. Later (извън хоризонта на този brainstorm)

- Истински multi-tenant с една споделена инстанция за много организации.
- Сложен plugin engine с runtime зареждане на модули.
- Advanced analytics и препоръчващи системи (recommendation engine).
- Дълбоки интеграции с billing / subscriptions / marketplaces.

## 7. Рискове и отворени въпроси

- **Версиониране и upgrade пътека**
  - Как се гарантира, че инстанциите могат да бъдат ъпгрейдвани без големи breaking промени?
  - Необходим ли е официален support window (поддържани версии)?
- **Граница между core и инстанция-специфичен код**
  - Кое живее в `beelms core`, кое живее в отделни репота за конкретни клиенти?
  - Как да се избегне „измесване“ на инстанция-специфична логика в core-а.
- **Performance и скалиране**
  - Какви са реалистичните натоварвания за 1 инстанция (потребители, трафик)?
  - Какви са лимитите на Lean Tier 0 и кога ще се наложи по-сериозна инфраструктура?
- **Безопасност и GDPR**
  - Какви минимални гаранции за сигурност и privacy трябва да дава core-а по подразбиране?
  - Какви hooks са нужни за правото да бъдеш забравен, data export и др.
- **Опит на разработчиците**
  - Достатъчно ли е tooling-ът за бързо стартиране на нова инстанция?
  - Нужни ли са generators / CLI за scaffolding на типични модули?

## 8. Как този brainstorm ще се използва в BMAD

- **Към `research`**
  - Темите в раздели 4–7 дават списък от неща за допълнително проучване (multi-tenant модели, upgrade стратегии, DX tooling, GDPR практики).
- **Към `create-architecture`**
  - Tenancy моделът, deployment подходът и content моделът стават вход за архитектурни решения.
- **Към `create-epics-and-stories`**
  - Темите и подсекциите от раздел 5 и класификацията в раздел 6 могат директно да се мапнат към епици (например „Core Auth & RBAC“, „Wiki & Content“, „Courses & Progress“, „Assessments“, „DX & Tooling“).

Този документ е жив – очаква се да бъде обновяван, когато се взимат архитектурни решения, появяват се нови рискове или се променят приоритетите на MVP/ Post-MVP функционалности.
